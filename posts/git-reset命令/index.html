<!DOCTYPE html>
<html><head>
    <title>git reset命令</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="1git reset --soft
2git reset --mix
3git reset --hard
在初学git时, git reset命令非常难以理解. 在理解了git的底层数据结构后, 这个命令的使用就比较清楚了.">
    <meta name="author" content="">


    <link rel="apple-touch-icon" href="https://blog.aeinrw.com/image/apple-touch-icon.png">
    <link rel="icon" href="https://blog.aeinrw.com/image/favicon.ico">

    <link rel="stylesheet" href="https://at.alicdn.com/t/font_1907205_qcnyqfdpzc.css">
    
    <link rel="stylesheet" href="https://blog.aeinrw.com/css/style.css">
    
    


    <meta name="generator" content="Hugo 0.79.0" />

    <script>
        function setTheme() {
            const now = (new Date()).getHours();
            const prev = Number(localStorage.getItem('oldHour'));

            if (prev !== now) {
                localStorage.setItem('oldHour', now);
                if (now > 7 && now < 18) {
                    localStorage.setItem("isDark", "false");
                    document.body.classList.remove('dark');
                } else {
                    localStorage.setItem("isDark", "true");
                    document.body.classList.add('dark');
                }
            } else {
                if (localStorage.getItem('isDark') == "true") {
                    document.body.classList.add('dark');
                } else {
                    document.body.classList.remove('dark');
                }
            }
        }
        function switchTheme() {
            if (localStorage.getItem('isDark') == "true") {
                localStorage.setItem('isDark', "false");
                document.body.classList.remove('dark');
            } else {
                localStorage.setItem('isDark', "true");
                document.body.classList.add('dark');
            }
        }
        setTheme();
    </script>
</head><body class="
                    single
                 "><header class="header">
    <nav class="nav">
        <h1 class="logo"><a href="https://blog.aeinrw.com/">aeinrw</a></h1>
        <ul class="menu">
            <li>
                <a href="/posts/"><i class="iconfont icon-timeline menuicon"></i></a>
            </li>
            <li>
                <a href="/tags/"><i class="iconfont icon-tags menuicon"></i></a>
            </li>
            <li>
                <a href="/categories/"><i class="iconfont icon-categories menuicon"></i></a>
            </li>
            <li>
                <a href="javascript:switchTheme%28%29"><i class="iconfont icon-adjust menuicon"></i></a>
            </li>
        </ul>
    </nav>
</header><main id="content">

<header class="page-header">
    <h1 class="post-title">git reset命令</h1>
    <div class="post-meta">May 27, 2020</div>
    <ul class="post-tags">
        <li class="post-tag"><a href="https://blog.aeinrw.com/tags/git">git</a></li>
        <li class="post-tag"><a href="https://blog.aeinrw.com/tags/%E5%8E%9F%E7%90%86">原理</a></li>
    </ul>
    
</header>

<article class="post-content">
    <div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="ln">1</span><span class="n">git</span> <span class="n">reset</span> <span class="p">-</span><span class="n">-soft</span>
<span class="ln">2</span><span class="n">git</span> <span class="n">reset</span> <span class="p">-</span><span class="n">-mix</span>
<span class="ln">3</span><span class="n">git</span> <span class="n">reset</span> <span class="p">-</span><span class="n">-hard</span>
</code></pre></div><p>在初学git时, <code>git reset</code>命令非常难以理解. 在理解了git的底层数据结构后, 这个命令的使用就比较清楚了.</p>
<h1 id="命令详解">命令详解</h1>
<h2 id="git-reset---soft">git reset &ndash;soft</h2>
<p>本来的HEAD指针指向版本库的最新commit, 如果使用<code>git reset --soft xxxx</code>命令, HEAD指针会指向响应的commit, 对暂存区和工作区不会产生影响, 只是改变HEAD指针的指向.</p>
<h2 id="git-reset---mix">git reset &ndash;mix</h2>
<p>添加<code>--mix</code>选项后, 除了HEAD指针会改变指向外, 暂存区也会改变. 暂存区被新指向的commit覆盖, 之前的暂存会消失, 但不影响工作区.</p>
<h2 id="git-reset---hard">git reset &ndash;hard</h2>
<p><code>--hard</code>选项会根据指向的commit覆盖工作区, 工作区的为保存修改会被覆盖, 这个命令是个危险的命令.</p>
<h1 id="区别">区别</h1>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th style="text-align:center">HEAD</th>
<th style="text-align:center">暂存区</th>
<th style="text-align:center">工作区</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&ndash;soft</td>
<td style="text-align:center">变化</td>
<td style="text-align:center">不变</td>
<td style="text-align:center">不变</td>
</tr>
<tr>
<td style="text-align:center">&ndash;mix</td>
<td style="text-align:center">变化</td>
<td style="text-align:center">变化</td>
<td style="text-align:center">不变</td>
</tr>
<tr>
<td style="text-align:center">&ndash;hard</td>
<td style="text-align:center">变化</td>
<td style="text-align:center">变化</td>
<td style="text-align:center">变化</td>
</tr>
</tbody>
</table>

    

    

    <script src="https://blog.aeinrw.com/js/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

</article>


        </main><footer class="footer">
    <div>
        
        
        
        <span><a href="https://github.com/aeinrw"><i class="iconfont icon-github"></i></a></span>
        
        
        
        <span><i class="iconfont icon-anjianfengexian"></i></span>
        
        <span><a href="https://www.weibo.com/6064805995/profile"><i class="iconfont icon-tubiaozhizuo-"></i></a></span>
        
        
        
        <span><i class="iconfont icon-anjianfengexian"></i></span>
        
        <span><a href="mailto:aeinrw@gmail.com"><i class="iconfont icon-youxiang"></i></a></span>
        
        
        
        <span><i class="iconfont icon-anjianfengexian"></i></span>
        
        <span><a href="https://www.zhihu.com/people/wei-ran-75-78"><i class="iconfont icon-zhihu"></i></a></span>
        
        
    </div>
    
    <div>
        <span>&copy; 2020 <a href="" ZgotmplZ>aeinrw</a></span>
        <span>&middot;</span>
        <span><a href="http://www.beian.miit.gov.cn/">皖ICP备 20011881号</a>️</span>
        
    </div>
</footer></body>

</html>