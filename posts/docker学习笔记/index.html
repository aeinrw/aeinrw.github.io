<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>docker学习笔记</title>
    
      <meta name="description" content="早就听说docker很火, 但一直没有linux设备去学. 有了服务器之后, 才发现linux确实香啊, 但也入门了好久.
这是我学docker时的笔记, 教学视频看的是docker教学视频链接, 讲的很好, 入门很快.">
      <meta name="author" content="">
    
    <link href="https://aeinrw.github.io/an-old-hope.min.css" rel="stylesheet">
    <link href="https://aeinrw.github.io/style.css" rel="stylesheet">
    <link href="https://aeinrw.github.io/custom.css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://aeinrw.github.io/apple-touch-icon.png">
    <link rel="icon" href="https://aeinrw.github.io/favicon.ico">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    <meta name="generator" content="Hugo 0.72.0" /> 
    
    <script>
    function setTheme() {
    const time = new Date();

    const prev = localStorage.getItem('date');
    const date = String(time.getMonth() + 1) + '.' + String(time.getDate());

    const now = time.getTime();
    let sunrise;
    let sunset;

    function setBodyClass() {
        if (now > sunrise && now < sunset) return;
        document.body.classList.add('dark');
    }

    if (date !== prev) {
        fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215')
        .then(res => res.json())
        .then(data => {
            sunrise = data.sunrise.split(':').map(Number);
            sunset = data.sunset.split(':').map(Number);
        })
        .catch(() => {
            sunrise = [7, 0];
            sunset = [19, 0];
        })
        .finally(() => {
            sunrise = time.setHours(sunrise[0], sunrise[1], 0);
            sunset = time.setHours(sunset[0], sunset[1], 0);
            setBodyClass();
            localStorage.setItem('sunrise', sunrise);
            localStorage.setItem('sunset', sunset);
        });
        localStorage.setItem('date', date);
    } else {
        sunrise = Number(localStorage.getItem('sunrise'));
        sunset = Number(localStorage.getItem('sunset'));
        setBodyClass();
    }
    }
    function switchMode() {
    if (document.body.classList.contains('dark')) {
        document.body.classList.remove('dark')
    } else {
        document.body.classList.add('dark')
    }
    }
</script>
    <body class="
                single
            ">
<script>
    setTheme();
</script>
<header class="header">
    <nav class="nav">
    <h1 class="logo"><a href="https://aeinrw.github.io/">aeinrw</a></h1>
    <ul class="menu">
        <li>
            <a href="/posts/"><i class="fa fa-list-ul"></i></a>
        </li>
        <li>
            <a href="/tags/"><i class="fa fa-tags"></i></a>
        </li>
        <li>
            <a href="http://github.com/aeinrw"><i class="fa fa-github"></i></a>
        </li>
        <li>
            <a href="javascript:switchMode()"><i class="fa fa-adjust"></i></a>
        </li>
    </ul>

    </nav>
</header>
</head>



<main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">docker学习笔记</h1>
    <div class="post-meta">July 9, 2019</div>
  </header>
  <footer class="post-footer">
    <ul class="post-tags">
        <li><a href="https://aeinrw.github.io/tags/docker">docker</a></li>
        <li><a href="https://aeinrw.github.io/tags/linux">linux</a></li>
    </ul>
  </footer>
  <div class="post-content"><p>早就听说docker很火, 但一直没有linux设备去学. 有了服务器之后, 才发现linux确实香啊, 但也入门了好久.</p>
<p>这是我学docker时的笔记, 教学视频看的是<a href="https://www.bilibili.com/video/av47715282?from=search&amp;seid=4956952821224565702">docker教学视频链接</a>, 讲的很好, 入门很快.</p>
<p>以下是一些docker命令的总结.</p>
<h1 id="镜像命令">镜像命令</h1>
<ol>
<li>
<p>列出本地主机上的镜像</p>
<p><strong>docker images</strong></p>
<ul>
<li><strong>-a</strong> : 列出本地所有的镜像(含中间镜像层)</li>
<li><strong>-q</strong> : 只显示镜像ID</li>
<li><strong>&ndash;digest</strong> : 显示镜像的摘要信息</li>
<li><strong>&ndash;no-trunc</strong> : 显示镜像的完整信息</li>
</ul>
</li>
<li>
<p>搜索镜像</p>
<p><strong>docker search 镜像名字</strong></p>
<ul>
<li>
<p><strong>&ndash;no-trunc</strong></p>
</li>
<li>
<p><strong>-s</strong> : 列出star不小于指定值的镜像</p>
<p><code>docker search -s 30 tomcat</code></p>
</li>
<li>
<p><strong>&ndash;automated</strong> : 只列出automate bulid类型的镜像</p>
</li>
</ul>
</li>
<li>
<p>下载镜像</p>
<p><strong>docker pull 镜像名字:[TAG]</strong></p>
<p>不写版本号则默认最新版本<em>latest</em></p>
</li>
<li>
<p>删除镜像</p>
<p><strong>docker rmi 镜像名字或ID</strong></p>
<ul>
<li><code>docker rmi -f 镜像ID</code> : 删除单个镜像</li>
<li><code>docker rmi -f 镜像名字1:TAG 镜像名字2:TAG</code> : 删除多个镜像</li>
<li><code>docker rmi -f $(docker images -qa)</code> : 删除全部镜像</li>
</ul>
</li>
</ol>
<h1 id="容器命令">容器命令</h1>
<ol>
<li>
<p>新建并启动容器</p>
<p><strong>docker run [OPTION] IMAGE [COMMAND][ARG&hellip;]</strong></p>
<ul>
<li><strong>&ndash;name=&quot;容器新名字&rdquo;</strong> : 为容器指定一个名称</li>
<li><strong>-d</strong> : 后台运行容器,并返回容器ID,即启动<em>守护式容器</em></li>
<li><strong>-i</strong> : 以交互模式运行容器,通常与 <strong>-t</strong> 同时使用</li>
<li><strong>-t</strong> : 为容器重新分配一个伪输入终端</li>
<li><strong>-P</strong> : 随机端口映射</li>
<li><strong>-p</strong> : 指定端口映射</li>
</ul>
</li>
<li>
<p>列出当前所有正在运行的容器</p>
<p><strong>docker ps [OPTION]</strong></p>
<ul>
<li><strong>-a</strong> : 列出当前所有正在运行的容器+历史上运行过的</li>
<li><strong>-l</strong> : 显示最近创建的容器</li>
<li><strong>-n</strong> : 显示最近n个创建的容器</li>
<li><strong>-q</strong> : 只显示容器ID</li>
<li><strong>&ndash;no-trunc</strong></li>
</ul>
</li>
<li>
<p>退出容器</p>
<ul>
<li><strong>exit</strong> : 容器停止退出</li>
<li><strong>ctrl+P+Q</strong> : 容器不停止推出</li>
</ul>
</li>
<li>
<p>启动容器</p>
<ul>
<li><strong>docker start 容器ID或容器名</strong></li>
<li><strong>docker restart 容器ID或容器名</strong></li>
</ul>
</li>
<li>
<p>停止容器</p>
<ul>
<li><strong>docker stop 容器ID或容器名</strong></li>
<li><strong>docker kill 容器ID或容器名</strong></li>
</ul>
</li>
<li>
<p>删除已停止的容器</p>
<ul>
<li><strong>docker rm 容器ID</strong></li>
<li><code>docker rm -f $(docker ps -a -q)</code> : 一次性删除多个容器</li>
</ul>
</li>
</ol></div>

  

</article>
</main><footer class="footer">
  <span>&copy; 2020 <a href="https://aeinrw.github.io/">aeinrw</a></span>
  <span>&middot;</span>
  <span>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</span>
  <span>&middot;</span>
  <span>Theme️ <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper</a></span>
</footer>
<script src="https://aeinrw.github.io/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>


</body>
</html>

